// Generated by CoffeeScript 1.6.2
exports.index = function(req, res) {
  var colors;

  colors = global.controls.lib.colors();
  console.log('start'.data);
  return res.jsonp({
    user: 'tobi'
  });
};

exports.get = function(req, res) {
  var $, get, htmlparser;

  get = require('get');
  htmlparser = require('htmlparser');
  $ = require('jquery');
  if (req.query.href != null) {
    return get(req.query.href).asString(function(err, data) {
      if (err) {
        throw err;
      }
      return console.log($('a', data).html());
      /*
      			handler = new htmlparser.DefaultHandler (error, dom) ->
      				throw error if error
      				console.log dom
      
      			parser = new htmlparser.Parser handler
      			parser.parseComplete data
      */

    });
    /*
    		throw err if err
    		res.jsonp
    			href:			req.query.href
    			fn:				req.query.fn
    			html:			data
    */

  }
};
