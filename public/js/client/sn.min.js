$(function(){var methods;return methods={init:function(){},sendRequest:function(options){var def,sn;return options||(options={}),def={type:"json",debug:!1,action:"submit",first:$("#page-first").val(),last:$("#page-last").val()},$.extend(!0,def,options),def.debug&&(def.type="text"),sn=$(this).data("sn"),$.ajax({url:"index.php",type:"POST",data:{action:def.action,first:def.first,last:def.last},dataType:def.type,timeout:1e4,beforeSend:function(){return $("#loading").show()},success:function(s){return"object"==typeof s?$.extend(!0,sn.result,s):(def.debug&&alert(s),sn.result=s),$(this).data("sn",sn),"object"==typeof sn.result&&(sn.result.alert&&alert(sn.result.alert),sn.result.callback&&$(this).snEvents({href:"#"+sn.result.callback})),$("#loading").hide()},error:function(){}})}},$.fn.snAjax=function(sn){return sn||(sn={}),methods[sn]?methods[sn].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof sn&&sn?$.error("Метод "+sn+" не существует"):methods.init.apply(this,arguments)}}),$(function(){var methods;return methods={init:function(options){var def;return options||(options={}),def={content:{},result:{key:""}},$.extend(!0,def,options),$(this).data("sn",def),$(this).snTriggers(),$(this).snEvents({href:"#autoload"})}},$.fn.sn=function(sn){return sn||(sn={}),methods[sn]?methods[sn].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof sn&&sn?$.error("Метод "+sn+" не существует"):methods.init.apply(this,arguments)}}),$(function(){var methods;return methods={init:function(){return $(this).snConf(main)},main:function(){var sn;return sn=$(this).data(sn),$.ajax({url:"sn-project/settings/main.json",async:!1,dataType:"json",success:function(s){return $.extend(!0,sn,s),$(this).data("sn",sn)}})}},$.fn.snConf=function(sn){return sn||(sn={}),methods[sn]?methods[sn].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof sn&&sn?$.error("Метод "+sn+" не существует"):methods.init.apply(this,arguments)}}),$(function(){var methods;return methods={init:function(options){var def,href,sn;switch(def={href:"none"},$.extend(!0,def,options),sn=$(this).data("sn"),href=def.href,href.replace(/(.*)#(.*)/,"$2")){case"autoload":break;case"get":return $(this).snAjax("sendRequest",{action:"get",debug:!1});case"afterGet":if(sn.result&&sn.result.response&&$("#response").html(sn.result.text),$("#page-first").val(parseInt($("#page-first").val())+1),parseInt($("#page-first").val())<=parseInt($("#page-last").val())&&"start"===$("#status").val())return $(this).snEvents({href:"#get"});break;case"start":if("stop"===$("#status").val())return $("#btn-start").hide(),$("#btn-stop").show(),$("#status").val("start"),$(this).snEvents({href:"#get"});break;case"stop":if("start"===$("#status").val())return $("#btn-start").show(),$("#btn-stop").hide(),$("#status").val("stop");break;case"close":return $(this).hide()}}},$.fn.snEvents=function(sn){return sn||(sn={}),methods[sn]?methods[sn].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof sn&&sn?$.error("Метод "+sn+" не существует"):methods.init.apply(this,arguments)}}),$(function(){var methods;return methods={init:function(){return $(this).snTriggers("start"),$(this).snTriggers("stop")},start:function(){var th;return th=$(this),$("#btn-start").on("click",function(e){return e.preventDefault(),parseInt($("#page-first").val())<=parseInt($("#page-last").val())?th.snEvents({href:"#start"}):void 0})},stop:function(){var th;return th=$(this),$("#btn-stop").on("click",function(e){return e.preventDefault(),th.snEvents({href:"#stop"})})}},$.fn.snTriggers=function(sn){return sn||(sn={}),methods[sn]?methods[sn].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof sn&&sn?$.error("Метод "+sn+" не существует"):methods.init.apply(this,arguments)}});